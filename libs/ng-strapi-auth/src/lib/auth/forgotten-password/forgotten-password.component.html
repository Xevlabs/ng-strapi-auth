<section class="forgotten-password" fxLayout="column" fxLayoutAlign="center center" >
    <h1 class="text-center no-margin-top condensed-font">{{ 'AUTH.PASSRESET.TITLE' | transloco }}</h1>
    <form class="full-width" (ngSubmit)="askPasswordResetCode()" [formGroup]="forgottenPasswordForm" fxLayout="column"
          fxLayoutAlign="center center" fxLayoutGap="1rem">
        <p class="no-margin text-center">{{'AUTH.PASSRESET.MESSAGE' | transloco}}</p>
        <mat-form-field class="full-width input-field" appearance="outline">
            <mat-label>{{ 'AUTH.EMAIL' | transloco }}</mat-label>
            <input matInput type="email" placeholder="{{ 'AUTH.EMAIL' | transloco }}" formControlName="email"/>
            <mat-error *ngIf="forgottenPasswordForm.controls.email.touched && forgottenPasswordForm.controls.email.hasError('required')">
                {{ 'AUTH.ERRORS.EMAIL_REQUIRED' | transloco }}
            </mat-error>
            <mat-error *ngIf="forgottenPasswordForm.controls.email.dirty && forgottenPasswordForm.controls.email.hasError('email')">
                {{ 'AUTH.ERRORS.EMAIL_WRONGFORMAT' | transloco }}
            </mat-error>
        </mat-form-field>
        <span class="no-margin warn padding-large-bottom">{{'AUTH.PASSRESET.WARNING' | transloco}}</span>
        <div fxLayout="column" fxLayoutGap="1rem" class="full-width">
            <button mat-flat-button color="primary" class="login-button full-width" type="submit" [disabled]="forgottenPasswordForm.invalid || busy">
                <span class="white padding-small-vertical" fxLayout="row" fxLayoutAlign="center center">
                    <mat-spinner class="white margin-large-right" diameter="24" *ngIf="busy"></mat-spinner>
                    <span class="white uppercase bold ">{{ 'AUTH.PASSRESET.VALIDATE' | transloco }}</span>
                </span>
            </button>
            <button mat-flat-button class="login-button full-width" [disabled]="busy" [routerLink]="'../'">
                <span class="padding-small-vertical" fxLayout="row" fxLayoutAlign="center center">
                    <span class="uppercase bold ">{{ 'AUTH.PASSRESET.CANCEL' | transloco }}</span>
                </span>
            </button>
        </div>
    </form>
</section>
