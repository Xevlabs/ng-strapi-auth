<section class="login">
    <h1 *ngIf="appName">{{'AUTH.LOGIN.WELCOME' | transloco: { value: appName } }}</h1>
    <h4 *ngIf="subtitle">{{'AUTH.LOGIN.SUBTITLE' | transloco: { value: subtitle } }}</h4>
    <form role="form" class="full-width" [formGroup]="loginForm" (ngSubmit)="login()" fxLayoutGap="2rem"  fxLayout="column" fxLayoutAlign="center center">
        <div>
            <mat-form-field class="full-width input-field" appearance="outline">
                <mat-label>{{ 'AUTH.USERNAME' | transloco }}</mat-label>
                <input matInput placeholder="{{ 'AUTH.USERNAME' | transloco }}" formControlName="username"/>
                <mat-error *ngIf="loginForm.controls.username.touched && loginForm.controls.username.hasError('required')">
                    {{ 'AUTH.ERRORS.USERNAME_REQUIRED' | transloco }}
                </mat-error>
            </mat-form-field>
            <mat-form-field class="full-width input-field" appearance="outline">
                <mat-label>{{ 'AUTH.PASSWORD' | transloco }}</mat-label>
                <input  matInput class="full-width"
                        placeholder="{{ 'AUTH.PASSWORD' | transloco }}"
                        type="password"
                        formControlName="password">
                <mat-error *ngIf="loginForm.controls.password.touched && loginForm.controls.password.hasError('required')">
                    {{ 'AUTH.ERRORS.PASSWORD_REQUIRED' | transloco }}
                </mat-error>
            </mat-form-field>
            <button mat-flat-button color="primary" class="login-button full-width" [disabled]="loginForm.invalid || busy">
                <span class="white padding-base" fxLayout="row" fxLayoutAlign="center center">
                    <mat-spinner class="white margin-large-right" diameter="24" *ngIf="busy"></mat-spinner>
                    <span class="white uppercase bold ">{{ 'AUTH.LOGIN.CTA' | transloco }}</span>
                </span>
            </button>
        </div>
    </form>
</section>
